<div class="filters">
  <div class="filters__header">
    <div class="filters__header--back">
      <div class="info" routerLink="../study">
        <img src="../../assets/back.png" alt="Back">
        <h4 class="back__title">Studies</h4>
      </div>
      <div class="filters__header--separator"></div>
      <h2 class="filters__header--title">Germplasm</h2>
    </div>
    <div class="row">
      <button
        href="#"
        class="btn m-3 filters__header--button"
        (click)="setSelectedGermplasms()"
      >
        Next
        <img src="../../assets/next.png" alt="Next">
      </button>
    </div>
  </div>
  <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
  <div>
    <div *ngIf="!isLoading" class="germplasm">
      <table class="table table-striped table-dark">
        <thead>
        <tr>
          <td></td>
          <td *ngFor="let studyColumn of this.studyColumns; let i = index">
            <label class="checkbox" for="{{i}}">
              <input
                type="checkbox"
                id="{{i}}"
                name="num"
                [(ngModel)]="studyColumn.selected"
                class="checkbox__input"
              >
              <span class="checkbox__box"></span>
            </label>
          </td>
        </tr>
        <tr class="table__study" >
          <td style="text-align: left !important;" class="table__header"><p class="table__header--top">Study Name</p><p class="table__header--line"></p><p class="table__header--bottom">Gerplasm Name</p></td>
          <td class="hasTooltip" *ngFor="let studyColumn of this.studyColumns; let i = index">
            <div style="text-align: center !important; text-align: -webkit-center !important; text-align: -moz-center !important;" class="hasTooltip__container">
              <div class="item">{{ studyColumn.study.name ? studyColumn.study.name : '---' }}</div>
              <div class="tooltip">{{ studyColumn.study.name ? studyColumn.study.name : '---' }}</div>
            </div>
          </td>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let germ of this.germplasm; let i = index">
          <td style="text-align: left !important; margin-left: 50px" class="hasTooltip">
            <div class="hasTooltip__container">
              <div style="margin-left: 50px !important;" class="item">{{ germ.germplasmName ? germ.germplasmName : '---' }}</div>
              <div style="margin-left: 50px !important;" class="tooltip">{{ germ.germplasmName ? germ.germplasmName : '---' }}</div>
            </div>
          </td>
          <td *ngFor="let studyColumn of this.studyColumns"><p *ngIf="checkGermplasmFunction(studyColumn, germ)"><i class="fas fa-check"></i></p>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
